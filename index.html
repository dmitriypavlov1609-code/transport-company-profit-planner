<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Transport Company Profit Planner</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
</head>
<body>
  <main class="shell">
    <header class="hero">
      <p class="eyebrow">Logistics Finance Tool</p>
      <h1>Transport Company Profit Planner</h1>
      <p class="subtitle">Планируйте прибыль транспортной компании: выручка, себестоимость рейсов, маржа, безубыточность и сценарии.</p>
    </header>

    <section class="grid">
      <article class="card">
        <h2>Операционная выручка</h2>
        <label>Количество машин в работе <input id="activeVehicles" type="number" min="1" value="18" /></label>
        <label>Рейсов на машину в месяц <input id="tripsPerVehicle" type="number" min="0" value="42" /></label>
        <label>Средний доход за рейс, ₽ <input id="revenuePerTrip" type="number" min="0" value="16500" /></label>
        <label>Средняя загрузка, % <input id="loadFactor" type="number" min="1" max="100" value="82" /></label>
        <label>Прочая выручка (экспедирование и т.д.), ₽ <input id="otherRevenue" type="number" min="0" value="180000" /></label>
      </article>

      <article class="card">
        <h2>Расходы</h2>
        <label>Топливо, ₽/рейс <input id="fuelPerTrip" type="number" min="0" value="4200" /></label>
        <label>Зарплата водителей, ₽/мес <input id="driverPayroll" type="number" min="0" value="1350000" /></label>
        <label>ТО и ремонт, ₽/мес <input id="maintenanceCost" type="number" min="0" value="320000" /></label>
        <label>Платные дороги/штрафы/сборы, ₽/мес <input id="roadAndFees" type="number" min="0" value="190000" /></label>
        <label>Админ и офис, ₽/мес <input id="adminCost" type="number" min="0" value="260000" /></label>
      </article>
    </section>

    <section class="actions">
      <button id="calculateBtn">Рассчитать</button>
      <button id="exportPdfBtn">Скачать PDF</button>
      <button id="exportCsvBtn" class="ghost">CSV</button>
      <button id="exportJsonBtn" class="ghost">JSON</button>
      <button id="exportTxtBtn" class="ghost">TXT</button>
      <button id="demoBtn" class="ghost">Демо кейс</button>
      <button id="clearBtn" class="ghost">Сбросить</button>
    </section>

    <section id="results" class="results hidden">
      <article class="metric">
        <h3>Месячная выручка</h3>
        <p id="revenueValue">0 ₽</p>
      </article>
      <article class="metric">
        <h3>Месячные расходы</h3>
        <p id="costValue">0 ₽</p>
      </article>
      <article class="metric">
        <h3>Ожидаемая прибыль</h3>
        <p id="profitValue">0 ₽</p>
      </article>
      <article class="metric">
        <h3>Маржа</h3>
        <p id="marginValue">0%</p>
      </article>

      <article class="card full">
        <h3>Точка безубыточности</h3>
        <p id="breakevenText"></p>
      </article>

      <article class="card full">
        <h3>Сценарии</h3>
        <table>
          <thead>
            <tr>
              <th>Сценарий</th>
              <th>Рейсов в месяц</th>
              <th>Тариф</th>
              <th>Прибыль</th>
            </tr>
          </thead>
          <tbody id="scenarioTable"></tbody>
        </table>
      </article>
    </section>

    <section id="pdfReport" class="pdf-report hidden">
      <h2>Transport Company Profit Report</h2>
      <p id="pdfGeneratedAt"></p>

      <h3>Ключевые показатели</h3>
      <ul id="pdfMetrics"></ul>

      <h3>Точка безубыточности</h3>
      <p id="pdfBreakeven"></p>

      <h3>Сценарии</h3>
      <table>
        <thead>
          <tr>
            <th>Сценарий</th>
            <th>Рейсов в месяц</th>
            <th>Тариф</th>
            <th>Прибыль</th>
          </tr>
        </thead>
        <tbody id="pdfScenarioTable"></tbody>
      </table>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
